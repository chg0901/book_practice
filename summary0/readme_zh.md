# 辅导大师--基于AI教育的错题管理系统

## 项目概述

辅导大师--基于AI教育的错题管理系统是一款基于人工智能技术的教育工具，主要用于识别、处理和管理学生作业中的试题，尤其是错题。系统通过OCR和大模型技术识别作业中的题目和学生答案，自动标记错题，并提供查询、导出和生成同类题目的功能，助力教育教学和学生自主学习。

## 功能特点

### 1. 作业上传与识别
- **多格式文件上传**：支持PDF、JPG、PNG等多种格式
- **智能识别**：使用Qwen2.5-VL-32B-Instruct模型识别题目文本和结构
- **颜色分析**：识别不同颜色的笔迹，区分印刷体与手写内容
- **内容分割**：自动划分大题和小题

### 2. 错题管理
- **自动标记**：识别错误解答并标记
- **知识点提取**：自动提取题目相关知识点
- **难度评估**：评估题目难度等级
- **结构化存储**：以JSON格式保存识别结果

### 3. 错题查询与导出
- **多维度查询**：支持按日期、学科、题型、知识点和难度等筛选
- **导出功能**：支持导出为Word、PDF等格式
- **分页处理**：题目和答案可分页导出

### 4. 同类题目生成
- **AI题目生成**：基于选中错题特征，使用大模型生成同类型新题目
- **自动配答案**：为生成的题目提供标准答案和解析
- **批量生成**：支持一次生成多道同类题

## 系统架构

详见项目文件夹中的 `project_architecture.mmd` 文件，该文件使用Mermaid格式描述了系统的架构设计。

## 项目结构

```
book_practice/
├── app/                      # 主应用模块
│   ├── main.py               # 主程序入口
│   └── config.py             # 配置文件
├── modules/                  # 核心功能模块
│   ├── image_processing/     # 图像处理模块
│   │   ├── image_processor.py       # 主处理类
│   │   ├── api_client.py            # API客户端
│   │   ├── color_analysis.py        # 颜色分析
│   │   ├── document_segmentation.py # 文档分割
│   │   └── result_formatter.py      # 结果格式化
│   ├── ai_generator/         # AI生成模块
│   │   └── question_generator.py    # 题目生成器
│   └── storage/              # 数据存储模块
├── ui/                       # 用户界面模块
│   └── pages/                # 页面组件
│       ├── home_page.py           # 首页
│       ├── upload_page.py         # 上传页面
│       ├── search_page.py         # 查询页面
│       └── similar_page.py        # 同类题生成页面
├── resources/                # 资源文件
├── results/                  # 处理结果存储
├── data/                     # 数据文件夹
├── models/                   # 模型文件夹
└── fonts/                    # 字体资源
```

## 系统工作流程

详见项目文件夹中的 `workflow.drawio` 文件，该文件使用DrawIO格式描述了系统的工作流程。

## 技术栈

### 前端
- **Gradio**：快速构建机器学习应用的Web界面
- **HTML/CSS**：基础前端技术

### 后端
- **Python**：主要开发语言
- **OpenCV**：图像处理和预处理
- **大语言模型**：
  - Qwen2.5-VL-32B-Instruct：多模态模型，用于图像理解和文本识别
  - QwQ-32B：大语言模型，用于答案生成和同类题生成
- **JSON**：数据存储格式

## 使用流程

### 1. 作业上传与处理
1. 打开系统，切换到"作业上传"选项卡
2. 上传作业图片或PDF文件
3. 点击"开始处理"按钮
4. 系统自动处理图片，识别试题
5. 显示处理结果，标记出错题

### 2. 错题查询与导出
1. 切换到"错题查询"选项卡
2. 设置查询条件（日期、学科、题型等）
3. 点击"查询"按钮
4. 查看查询结果
5. 选择需要导出的题目
6. 点击"导出"按钮，选择导出格式
7. 下载导出的文件

### 3. 同类题生成
1. 切换到"同类题生成"选项卡
2. 选择或输入需要作为基础的错题
3. 设置生成数量
4. 点击"生成"按钮
5. 查看生成的同类题目
6. 选择导出或直接使用

## 扩展性和未来发展

- **多学科支持**：系统设计支持多学科扩展
- **接口预留**：预留了多个API接口，可与第三方系统集成
- **模型升级**：可轻松升级到更先进的AI模型
- **多用户支持**：可扩展支持多用户、多角色

## 部署方式

### 常规部署
```bash
# 安装依赖
pip install -r requirements.txt

# 运行应用
python app/main.py

# 后台运行（Linux）
nohup python3 app/main.py > main.log &
```

### Docker部署
```bash
# 构建镜像
docker build -t book_practice:v0.0.1 .

# 运行容器
docker run -d -p 7860:7860 --name book_practice book_practice:v0.0.1

# 持久化存储
docker run -d \
    -p 7860:7860 \
    -v $(pwd)/data:/app/data \
    -v $(pwd)/results:/app/results \
    -v $(pwd)/uploads:/app/uploads \
    --name book_practice \
    book_practice:v0.0.1
``` 